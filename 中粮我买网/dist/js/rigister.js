"use strict";!function(){var n={tel:function(e){return/(^[0-9]{6,}@)|(^[0-9]{11,12}$)/.test(e)},username:function(e){return/^[a-zA-Z][a-zA-Z0-9]{7,12}$/.test(e)},password:function(e){return/^[\w]{6,14}$/.test(e)},sure:function(e){return e==$(".psd").val()},verification:function(e){return/^[0-9]{6}$/.test(e)}},i=[!1,!1,!1,!1,!1,!1];$(".ck").on("blur",function(){!function(s){var e=s.val().trim(),t="",r=0;-1!=s.attr("class").indexOf("tel-emil")?t="tel":-1!=s.attr("class").indexOf("user")?t="username":-1!=s.attr("class").indexOf("psd")?t="password":-1!=s.attr("class").indexOf("sures")?t="sure":-1!=s.attr("class").indexOf("verification")&&(t="verification"),$(".ck").each(function(e,t){t.className==s.attr("class")&&(r=e)}),n[t](e)?($(".err-tips").eq(r).css("display","none"),i[r]=!0,1==r&&$.ajax({type:"get",url:"../api/checkUser.php",data:{username:e},success:function(e){var t=JSON.parse(e);console.log(t),t.code&&($(".err-tips").eq(r).text("该用户已被占用"),$(".err-tips").eq(r).css("display","block"),i[r]=!1)}})):(1==r&&$(".err-tips").eq(r).text("用户名不符合要求"),$(".err-tips").eq(r).css("display","block"),i[r]=!1)}($(this))}),$(".check-box").on("click",function(e){i[5]=e.target.checked}),$(".rigister-btn").on("click",function(){i.every(function(e){return e})?($(".reg-tips").css("display","none"),$.ajax({type:"post",url:"../api/rigister.php",data:{username:$(".user").val(),password:$(".psd").val(),tel:$(".tel-emil").val()},success:function(e){0==JSON.parse(e).code&&(location.href="login.html")}})):$(".reg-tips").css("display","block")})}();