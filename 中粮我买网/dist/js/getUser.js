"use strict";!function(){function t(t,e){this.checkStr=t,this.ele=e}t.prototype={getCookie:function(){var e=this,t=document.cookie,i=null;return 0<t.length&&(t.split("; ").some(function(t){if(-1!=t.indexOf(e.checkStr))return i=t.split("=")[1],!0}),i)},getData:function(){var i=this,t=this.getCookie(this.checkStr);t?$.ajax({type:"get",url:"../api/checkid.php",data:{userid:t},success:function(t){var e=JSON.parse(t);0==e.code&&$(i.ele).html(e.username+'<a class="out-btn" href="###" style="padding-left:15px;">退出</a>'),$(".out-btn").on("click",function(){!function(){var t=new Date;t.setDate(t.getDate()-1),document.cookie="userid=0; expires="+t+";path=/",location.reload()}()})}}):console.log("请先进行登录!")},getCart:function(){var i=this;return this.getCookie(this.checkStr)?new Promise(function(e,t){$.ajax({type:"get",url:"../api/getcart.php",dataType:"json",data:{uid:i.getCookie(i.checkStr)},success:function(t){e(t)}})}):null}},window.GetUser=t}();